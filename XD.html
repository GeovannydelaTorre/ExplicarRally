<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rally Acad√©mico</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #b1d9e9ff;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
            height: 100vh;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="15" fill="%232c5aa0" opacity="0.7"/><text x="20" y="26" font-size="16" text-anchor="middle" fill="white">üë•</text></svg>') 20 20, auto;
        }

        .scene {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.5s ease;
            opacity: 1;
            padding: 20px;
            overflow: auto;
        }

        .hidden {
            display: none;
            opacity: 0;
        }

        .scene-title {
            font-size: 2.5rem;
            color: white;
            margin-bottom: 1rem;
            text-align: center;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
            background-color: rgba(44, 90, 160, 0.8);
            padding: 10px 30px;
            border-radius: 10px;
        }

        .scene-description {
            font-size: 1.2rem;
            max-width: 800px;
            text-align: center;
            margin-bottom: 1.5rem;
            color: white;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.6);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }

        .scene-content {
            width: 100%;
            max-width: 1000px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .school-map-container {
            width: 90%;
            max-width: 1000px;
            height: 500px;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            margin-bottom: 20px;
            border: 5px solid white;
        }

        .school-map {
            width: 100%;
            height: 100%;
            background-image: url('https://image.slidesharecdn.com/mapadelcolegio-171010133309/75/Mapa-del-colegio-2-2048.jpg');
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .station-btn {
            position: absolute;
            width: 60px;
            height: 60px;
            background-color: #ff9f43;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            border: 3px solid white;
            font-size: 1.2rem;
        }

        .station-btn:hover {
            transform: scale(1.2);
            background-color: #ff7b00;
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }

        .team-marker {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: #3498db;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            transition: all 0.5s ease;
            z-index: 5;
            border: 2px solid white;
            box-shadow: 0 3px 6px rgba(0,0,0,0.3);
            font-size: 0.9rem;
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 12px 25px;
            background-color: #2c5aa0;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border: 2px solid white;
        }

        .btn:hover {
            background-color: #1e3d6f;
            transform: translateY(-3px);
        }

        .btn-secondary {
            background-color: #6c757d;
        }

        .btn-secondary:hover {
            background-color: #545b62;
        }

        .qr-container {
            background-color: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
            max-width: 400px;
        }

        .qr-code {
            width: 200px;
            height: 200px;
            background: linear-gradient(45deg, #333 25%, #555 25%, #555 50%, #333 50%, #333 75%, #555 75%);
            background-size: 20px 20px;
            margin: 1.5rem 0;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .qr-code::after {
            content: "QR";
            font-size: 3rem;
            color: white;
            font-weight: bold;
            background-color: #2c5aa0;
            width: 80px;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }

        .mobile-screen {
            width: 300px;
            height: 500px;
            background-color: #1a1a1a;
            border-radius: 25px;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            position: relative;
            margin: 20px 0;
            overflow: hidden;
        }

        .mobile-header {
            background-color: #2c5aa0;
            color: white;
            padding: 15px;
            border-radius: 15px 15px 0 0;
            text-align: center;
            font-weight: bold;
        }

        .mobile-content {
            background-color: white;
            height: calc(100% - 70px);
            border-radius: 0 0 15px 15px;
            padding: 20px;
            overflow-y: auto;
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .mystery-card {
            height: 100px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .mystery-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .question-container {
            width: 100%;
        }

        .question {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            color: #333;
            font-weight: 600;
        }

        .option {
            background-color: #f8f9fa;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .option:hover {
            background-color: #e9ecef;
        }

        .option.selected {
            border-color: #2c5aa0;
            background-color: #e3f2fd;
        }

        .option.correct {
            border-color: #28a745;
            background-color: #d4edda;
        }

        .option.incorrect {
            border-color: #dc3545;
            background-color: #f8d7da;
        }

        .form-container {
            width: 100%;
            max-width: 400px;
            background-color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            border-color: #2c5aa0;
            outline: none;
        }

        .punishment-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        .frog-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }

        .frog {
            font-size: 3rem;
            position: relative;
            animation: frogJump 1.5s infinite ease-in-out;
        }

        @keyframes frogJump {
            0%, 100% { 
                transform: translateY(0) rotate(0deg); 
            }
            25% { 
                transform: translateY(-40px) rotate(-5deg); 
            }
            50% { 
                transform: translateY(-60px) rotate(5deg); 
            }
            75% { 
                transform: translateY(-40px) rotate(-5deg); 
            }
        }

        .teacher {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: #2c5aa0;
        }

        .all-teams {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            width: 100%;
            max-width: 800px;
            margin-top: 20px;
        }

        .team-circle {
            width: 80px;
            height: 80px;
            background-color: #3498db;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 1.3rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: 2px solid white;
        }

        .podium {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 30px;
            margin-top: 20px;
            height: 250px;
        }

        .podium-place {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .podium-stand {
            width: 100px;
            background: linear-gradient(to top, #ffd700, #ffed4e);
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
            font-weight: bold;
            font-size: 1.8rem;
        }

        .podium-stand.second {
            height: 150px;
            background: linear-gradient(to top, #c0c0c0, #e0e0e0);
        }

        .podium-stand.first {
            height: 180px;
        }

        .podium-stand.third {
            height: 120px;
            background: linear-gradient(to top, #cd7f32, #e6a756);
        }

        .final-text {
            font-size: 2.5rem;
            color: white;
            text-align: center;
            margin-top: 20px;
            animation: float 3s infinite ease-in-out;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            background-color: rgba(44, 90, 160, 0.8);
            padding: 15px 30px;
            border-radius: 10px;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .celebration {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .celebration-item {
            width: 70px;
            height: 70px;
            background-color: #ff9f43;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.8rem;
            animation: bounce 1s infinite alternate;
            border: 2px solid white;
        }

        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-15px); }
        }

        .admin-panel {
            background-color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 90%;
        }

        .admin-title {
            color: #2c5aa0;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8rem;
        }

        .winner-display {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            border: 3px solid #ffd700;
        }

        .winner-name {
            font-size: 2rem;
            color: #2c5aa0;
            font-weight: bold;
        }

        .winner-info {
            font-size: 1.2rem;
            color: #555;
            margin-top: 10px;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .results-table th {
            background-color: #2c5aa0;
            color: white;
            padding: 12px;
            text-align: left;
        }

        .results-table td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }

        .results-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .results-table tr:hover {
            background-color: #e3f2fd;
        }

        /* Asegurar que todo quepa en pantalla */
        html, body {
            height: 100%;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .scene-title {
                font-size: 2rem;
            }
            
            .scene-description {
                font-size: 1rem;
                padding: 10px;
            }
            
            .school-map-container {
                height: 400px;
            }
            
            .all-teams {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .podium {
                gap: 15px;
            }
            
            .podium-stand {
                width: 80px;
            }
            
            .frog-container {
                gap: 15px;
            }
            
            .frog {
                font-size: 2.5rem;
            }
            
            .final-text {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- ESCENA 1 ‚Äì Vista general de la escuela -->
    <section id="scene1" class="scene">
        <h1 class="scene-title">Rally Acad√©mico</h1>
        <p class="scene-description">Patio de la escuela con varias estaciones marcadas. Estudiantes participando en el rally acad√©mico.</p>
        
        <div class="scene-content">
            <div class="school-map-container">
                <div class="school-map" id="school-map">
                    <!-- Estaciones como botones -->
                    <button class="station-btn" style="top: 30%; left: 20%;" onclick="nextScene(2)">1</button>
                    <button class="station-btn" style="top: 20%; left: 50%;" onclick="nextScene(2)">2</button>
                    <button class="station-btn" style="top: 60%; left: 30%;" onclick="nextScene(2)">3</button>
                    <button class="station-btn" style="top: 70%; left: 60%;" onclick="nextScene(2)">4</button>
                    <button class="station-btn" style="top: 40%; left: 40%;" onclick="nextScene(2)">5</button>
                    
                    <!-- Equipos movi√©ndose -->
                    <div class="team-marker" style="top: 25%; left: 15%; background-color: #3498db;">E1</div>
                    <div class="team-marker" style="top: 50%; left: 10%; background-color: #e74c3c;">E2</div>
                    <div class="team-marker" style="top: 15%; left: 70%; background-color: #2ecc71;">E3</div>
                    <div class="team-marker" style="top: 65%; left: 40%; background-color: #f39c12;">E4</div>
                    <div class="team-marker" style="top: 80%; left: 70%; background-color: #9b59b6;">E5</div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn" onclick="nextScene(2)">
                    <i class="fas fa-running"></i> Comenzar Rally
                </button>
                <button class="btn btn-secondary" onclick="nextScene(11)">
                    <i class="fas fa-user-shield"></i> Vista Administrador
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 2 ‚Äì El equipo llega a la Estaci√≥n 1 -->
    <section id="scene2" class="scene hidden">
        <h2 class="scene-title">Estaci√≥n 1</h2>
        <p class="scene-description">Equipo de estudiantes llega a la primera estaci√≥n del rally.</p>
        
        <div class="scene-content">
            <div class="school-map-container">
                <div class="school-map">
                    <button class="station-btn" style="top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80px; height: 80px; font-size: 1.5rem;">1</button>
                    <div class="team-marker" id="team-marker" style="top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #9b59b6; width: 60px; height: 60px; font-size: 1.2rem;">E7</div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="prevScene(1)">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
                <button class="btn" onclick="nextScene(3)">
                    <i class="fas fa-qrcode"></i> Escanear C√≥digo QR
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 3 ‚Äì Escaneo del c√≥digo QR -->
    <section id="scene3" class="scene hidden">
        <h2 class="scene-title">Escaneo del QR</h2>
        <p class="scene-description">Estudiante escanea el c√≥digo QR para acceder a la pregunta.</p>
        
        <div class="scene-content">
            <div class="qr-container">
                <h3>C√≥digo QR - Estaci√≥n 1</h3>
                <div class="qr-code"></div>
                <p>Escanea con tu dispositivo m√≥vil</p>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="prevScene(2)">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
                <button class="btn" onclick="nextScene(4)">
                    <i class="fas fa-mobile-alt"></i> Acceder a la Pregunta
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 4 ‚Äì P√°gina web con cartas misteriosas -->
    <section id="scene4" class="scene hidden">
        <h2 class="scene-title">Cartas Misteriosas</h2>
        <p class="scene-description">Selecciona una carta para revelar la pregunta del rally.</p>
        
        <div class="scene-content">
            <div class="mobile-screen">
                <div class="mobile-header">
                    Rally Acad√©mico - Estaci√≥n 1
                </div>
                <div class="mobile-content">
                    <h3>Elige una carta:</h3>
                    <div class="cards-container" id="cards-container">
                        <div class="mystery-card" onclick="selectCard(1)">?</div>
                        <div class="mystery-card" onclick="selectCard(2)">?</div>
                        <div class="mystery-card" onclick="selectCard(3)">?</div>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="prevScene(3)">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
                <button class="btn" id="next-question-btn" style="display:none;" onclick="nextScene(5)">
                    <i class="fas fa-question-circle"></i> Ver Pregunta
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 5 ‚Äì Pregunta con 4 opciones -->
    <section id="scene5" class="scene hidden">
        <h2 class="scene-title">Pregunta del Rally</h2>
        <p class="scene-description">Responde correctamente para avanzar a la siguiente estaci√≥n.</p>
        
        <div class="scene-content">
            <div class="mobile-screen">
                <div class="mobile-header">
                    Rally Acad√©mico - Pregunta
                </div>
                <div class="mobile-content">
                    <div class="question-container">
                        <div class="question" id="question-text">¬øCu√°l es el r√≠o m√°s largo del mundo?</div>
                        <div class="option" onclick="selectOption(1)" id="option1">Amazonas</div>
                        <div class="option" onclick="selectOption(2)" id="option2">Nilo</div>
                        <div class="option" onclick="selectOption(3)" id="option3">Yangts√©</div>
                        <div class="option" onclick="selectOption(4)" id="option4">Misisipi</div>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="prevScene(4)">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
                <button class="btn" id="submit-answer-btn" onclick="submitAnswer()">
                    <i class="fas fa-paper-plane"></i> Enviar Respuesta
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 6 ‚Äì Ingreso de datos del equipo -->
    <section id="scene6" class="scene hidden">
        <h2 class="scene-title">Datos del Equipo</h2>
        <p class="scene-description">Ingresa los datos de tu equipo para registrar la respuesta.</p>
        
        <div class="scene-content">
            <div class="form-container">
                <h3>Datos del Equipo</h3>
                <div class="form-group">
                    <label for="team-number">N√∫mero de equipo:</label>
                    <input type="number" id="team-number" class="form-control" min="1" max="20" value="7">
                </div>
                <div class="form-group">
                    <label for="team-password">Contrase√±a:</label>
                    <input type="password" id="team-password" class="form-control" value="rally2024">
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="prevScene(5)">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
                <button class="btn" onclick="nextScene(7)">
                    <i class="fas fa-running"></i> Continuar
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 7 ‚Äì El maestro los corrige -->
    <section id="scene7" class="scene hidden">
        <h2 class="scene-title">Correcci√≥n</h2>
        <p class="scene-description">El maestro revisa la respuesta. ¬°Respuesta incorrecta! Castigo divertido.</p>
        
        <div class="scene-content">
            <div class="teacher">
                <i class="fas fa-chalkboard-teacher"></i> Maestro
            </div>
            <p style="font-size: 1.3rem; margin-bottom: 1.5rem; text-align: center; color: black;">¬°Respuesta incorrecta! Castigo: 10 saltos de rana</p>
            
            <div class="punishment-container">
                <div class="frog-container">
                    <div class="frog">üê∏</div>
                    <div class="frog">üê∏</div>
                    <div class="frog">üê∏</div>
                    <div class="frog">üê∏</div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="prevScene(6)">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
                <button class="btn" onclick="nextScene(8)">
                    <i class="fas fa-users"></i> Continuar
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 8 ‚Äì Todos los equipos reunidos -->
    <section id="scene8" class="scene hidden">
        <h2 class="scene-title">Reuni√≥n de Equipos</h2>
        <p class="scene-description">Todos los equipos se re√∫nen para la ceremonia de premiaci√≥n.</p>
        
        <div class="scene-content">
            <div class="all-teams" id="all-teams">
                <!-- Los equipos se generar√°n con JavaScript -->
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="prevScene(7)">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
                <button class="btn" onclick="nextScene(9)">
                    <i class="fas fa-trophy"></i> Premiaci√≥n
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 9 ‚Äì Maestro da discurso final -->
    <section id="scene9" class="scene hidden">
        <h2 class="scene-title">Discurso Final</h2>
        <p class="scene-description">El maestro anuncia los ganadores del rally acad√©mico.</p>
        
        <div class="scene-content">
            <div class="teacher">
                <i class="fas fa-chalkboard-teacher"></i> Maestro
            </div>
            
            <div style="max-width: 800px; background-color: white; padding: 2rem; border-radius: 15px; margin: 20px 0; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                <p style="font-size: 1.3rem; margin-bottom: 1rem;">¬°Felicidades a todos los equipos! Han demostrado excelente trabajo en equipo.</p>
                <p style="font-size: 1.3rem;">Ahora anunciaremos los ganadores...</p>
            </div>
            
            <div class="podium">
                <div class="podium-place">
                    <div class="podium-stand second">2¬∞</div>
                    <div style="color: rgb(0, 0, 0); margin-top: 10px; font-weight: bold;">Equipo 4</div>
                </div>
                <div class="podium-place">
                    <div class="podium-stand first">1¬∞</div>
                    <div style="color: rgb(0, 0, 0); margin-top: 10px; font-weight: bold;">Equipo 7</div>
                </div>
                <div class="podium-place">
                    <div class="podium-stand third">3¬∞</div>
                    <div style="color: rgb(0, 0, 0); margin-top: 10px; font-weight: bold;">Equipo 9</div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="prevScene(8)">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
                <button class="btn" onclick="nextScene(10)">
                    <i class="fas fa-star"></i> Cierre
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 10 ‚Äì Cierre -->
    <section id="scene10" class="scene hidden">
        <h2 class="scene-title">¬°Rally Completado!</h2>
        <p class="scene-description">Ceremonia de cierre del rally acad√©mico.</p>
        
        <div class="scene-content">
            <div class="celebration">
                <div class="celebration-item" style="animation-delay: 0s;">üéâ</div>
                <div class="celebration-item" style="animation-delay: 0.2s;">üèÜ</div>
                <div class="celebration-item" style="animation-delay: 0.4s;">üéì</div>
                <div class="celebration-item" style="animation-delay: 0.6s;">‚≠ê</div>
            </div>
            
            <div class="final-text">Rally Acad√©mico ‚Äì ¬°Aprender tambi√©n es una aventura!</div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="prevScene(9)">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
                <button class="btn" onclick="restartGame()">
                    <i class="fas fa-redo"></i> Reiniciar
                </button>
            </div>
        </div>
    </section>
    
    <!-- ESCENA 11 ‚Äì Vista del Administrador -->
    <section id="scene11" class="scene hidden">
        <h2 class="scene-title">Panel de Administraci√≥n</h2>
        <p class="scene-description">Vista del administrador para monitorear resultados y ganadores.</p>
        
        <div class="scene-content">
            <div class="admin-panel">
                <div class="admin-title">üèÜ Ganador del Rally Acad√©mico üèÜ</div>
                
                <div class="winner-display">
                    <div class="winner-name">EQUIPO 7</div>
                    <div class="winner-info">Puntuaci√≥n: 95/100 ‚Ä¢ Tiempo: 42:15</div>
                    <div class="winner-info">Integrantes: 4 estudiantes ‚Ä¢ Estaciones completadas: 5/5</div>
                </div>
                
                <h3 style="color: #2c5aa0; margin-top: 25px;">Resultados Completos</h3>
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Posici√≥n</th>
                            <th>Equipo</th>
                            <th>Puntuaci√≥n</th>
                            <th>Tiempo</th>
                            <th>Estaciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1¬∞</td>
                            <td><strong>Equipo 7</strong></td>
                            <td>95</td>
                            <td>42:15</td>
                            <td>5/5</td>
                        </tr>
                        <tr>
                            <td>2¬∞</td>
                            <td>Equipo 4</td>
                            <td>92</td>
                            <td>45:30</td>
                            <td>5/5</td>
                        </tr>
                        <tr>
                            <td>3¬∞</td>
                            <td>Equipo 9</td>
                            <td>88</td>
                            <td>47:45</td>
                            <td>5/5</td>
                        </tr>
                        <tr>
                            <td>4¬∞</td>
                            <td>Equipo 2</td>
                            <td>85</td>
                            <td>50:10</td>
                            <td>5/5</td>
                        </tr>
                        <tr>
                            <td>5¬∞</td>
                            <td>Equipo 5</td>
                            <td>82</td>
                            <td>52:20</td>
                            <td>5/5</td>
                        </tr>
                        <tr>
                            <td>6¬∞</td>
                            <td>Equipo 1</td>
                            <td>78</td>
                            <td>55:05</td>
                            <td>4/5</td>
                        </tr>
                    </tbody>
                </table>
                
                <div style="margin-top: 25px; display: flex; gap: 15px; justify-content: center;">
                    <button class="btn" onclick="nextScene(1)">
                        <i class="fas fa-eye"></i> Vista Participante
                    </button>
                    <button class="btn btn-secondary" onclick="downloadResults()">
                        <i class="fas fa-download"></i> Descargar Resultados
                    </button>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Variables globales
        let currentScene = 1;
        let selectedCard = null;
        let selectedOption = null;
        const totalScenes = 11;
        
        // Inicializar la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            // Generar todos los equipos para la escena 8
            generateAllTeams();
            
            // Animar los equipos en el mapa de la escena 1
            animateTeamsOnMap();
            
            // Mostrar la primera escena
            showScene(1);
        });
        
        // Generar todos los equipos para escena 8
        function generateAllTeams() {
            const container = document.getElementById('all-teams');
            container.innerHTML = '';
            
            // Colores para los equipos
            const colors = ['#3498db', '#e74c3c', '#2ecc71', '#f39c12', '#9b59b6', 
                           '#1abc9c', '#d35400', '#34495e', '#7f8c8d', '#27ae60'];
            
            for (let i = 1; i <= 10; i++) {
                const teamCircle = document.createElement('div');
                teamCircle.className = 'team-circle';
                teamCircle.textContent = `E${i}`;
                teamCircle.style.backgroundColor = colors[i-1];
                
                // Agregar animaci√≥n
                if (i % 2 === 0) {
                    teamCircle.style.animation = 'float 3s infinite ease-in-out';
                    teamCircle.style.animationDelay = `${i * 0.1}s`;
                }
                
                container.appendChild(teamCircle);
            }
        }
        
        // Animar los equipos en el mapa de la escena 1
        function animateTeamsOnMap() {
            const teamMarkers = document.querySelectorAll('.team-marker');
            
            teamMarkers.forEach((marker, index) => {
                // Mover el marcador aleatoriamente
                setInterval(() => {
                    const newTop = Math.random() * 80 + 5;
                    const newLeft = Math.random() * 80 + 5;
                    
                    marker.style.transition = 'all 3s ease';
                    marker.style.top = `${newTop}%`;
                    marker.style.left = `${newLeft}%`;
                }, 4000 + index * 1000);
            });
        }
        
        // Mostrar una escena espec√≠fica
        function showScene(sceneNumber) {
            // Ocultar todas las escenas
            for (let i = 1; i <= totalScenes; i++) {
                const scene = document.getElementById(`scene${i}`);
                scene.classList.add('hidden');
            }
            
            // Mostrar la escena seleccionada
            const currentSceneElement = document.getElementById(`scene${sceneNumber}`);
            currentSceneElement.classList.remove('hidden');
            
            currentScene = sceneNumber;
            
            // Asegurar que la escena est√© visible sin desplazamiento
            window.scrollTo(0, 0);
        }
        
        // Ir a la siguiente escena
        function nextScene(next) {
            showScene(next);
        }
        
        // Ir a la escena anterior
        function prevScene(prev) {
            showScene(prev);
        }
        
        // Seleccionar una carta misteriosa
        function selectCard(cardNumber) {
            // Resetear selecci√≥n anterior
            const cards = document.querySelectorAll('.mystery-card');
            cards.forEach(card => {
                card.style.backgroundColor = '';
                card.textContent = '?';
            });
            
            // Marcar carta seleccionada
            const selectedCardElement = cards[cardNumber - 1];
            selectedCardElement.style.backgroundColor = '#ff9f43';
            selectedCardElement.textContent = '‚úì';
            
            selectedCard = cardNumber;
            
            // Mostrar el bot√≥n para continuar
            document.getElementById('next-question-btn').style.display = 'block';
        }
        
        // Seleccionar una opci√≥n de respuesta
        function selectOption(optionNumber) {
            // Resetear selecci√≥n anterior
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.classList.remove('selected');
            });
            
            // Marcar opci√≥n seleccionada
            const selectedOptionElement = document.getElementById(`option${optionNumber}`);
            selectedOptionElement.classList.add('selected');
            
            selectedOption = optionNumber;
        }
        
        // Enviar respuesta
        function submitAnswer() {
            if (!selectedOption) {
                alert('Por favor, selecciona una opci√≥n antes de enviar.');
                return;
            }
            
            const options = document.querySelectorAll('.option');
            const correctAnswer = 1; // Amazonas es la respuesta correcta
            
            // Mostrar respuesta correcta e incorrecta
            options.forEach((option, index) => {
                if (index + 1 === correctAnswer) {
                    option.classList.add('correct');
                } else if (index + 1 === selectedOption && selectedOption !== correctAnswer) {
                    option.classList.add('incorrect');
                }
            });
            
            // Deshabilitar opciones
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Cambiar texto del bot√≥n
            const submitBtn = document.getElementById('submit-answer-btn');
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Respuesta Enviada';
            submitBtn.style.backgroundColor = selectedOption === correctAnswer ? '#28a745' : '#dc3545';
            submitBtn.disabled = true;
            
            // Despu√©s de 2 segundos, avanzar autom√°ticamente
            setTimeout(() => {
                nextScene(6);
            }, 2000);
        }
        
        // Descargar resultados (funci√≥n simulada)
        function downloadResults() {
            alert('Funci√≥n de descarga simulada. En una implementaci√≥n real, se descargar√≠a un archivo con los resultados.');
        }
        
        // Reiniciar el juego
        function restartGame() {
            // Resetear variables
            selectedCard = null;
            selectedOption = null;
            
            // Resetear escena de cartas
            const cards = document.querySelectorAll('.mystery-card');
            cards.forEach(card => {
                card.style.backgroundColor = '';
                card.textContent = '?';
            });
            document.getElementById('next-question-btn').style.display = 'none';
            
            // Resetear escena de preguntas
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
                option.style.pointerEvents = 'auto';
            });
            
            const submitBtn = document.getElementById('submit-answer-btn');
            submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Enviar Respuesta';
            submitBtn.style.backgroundColor = '';
            submitBtn.disabled = false;
            
            // Volver a la primera escena
            showScene(1);
        }
        
        // Asegurar que el cursor personalizado se mantenga en todos los elementos
        document.querySelectorAll('button, .option, .mystery-card').forEach(element => {
            element.style.cursor = 'inherit';
        });
    </script>
</body>
</html>
